window.onload=function(){document.querySelector("#loading-container").style.display="none"};var myName=document.querySelector("#name");var myPic=document.querySelector("#landing-pro-pic");myName.addEventListener("mouseover",function(e){myPic.style.left=(window.innerWidth*(e.clientX-myName.getBoundingClientRect().x)/myPic.clientWidth)+"px";myPic.style.top=(window.innerHeight*(e.clientY-myName.getBoundingClientRect().y)/myPic.clientHeight-200)+"px"});var lookas_example_images=["img/lookas/lookas_0.jpg","img/lookas/lookas_2.gif","img/lookas/lookas_3.gif","img/lookas/lookas_4.gif"];var lookas_image_preload=[];for(var i=0;i<4;i++){var x=new Image();x.src=lookas_example_images[i];lookas_image_preload[i]=x}
var lookas_example_buttons=document.querySelector("#section_lookas").getElementsByClassName("section_image_switch");var lookas_example_current=0;function lookas_example_select(num){lookas_example_buttons[lookas_example_current].classList.remove("selected");lookas_example_buttons[num].classList.add("selected");document.querySelector("#section_lookas .section_image").style.backgroundImage="url("+lookas_example_images[num]+")";lookas_example_current=num}
for(var i=0;i<4;i++){lookas_example_buttons[i].addEventListener("click",function(e){var buttonNum=parseInt(e.target.innerHTML)-1;lookas_example_select(buttonNum)})}
var scroll=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60)};var supportPageOffset=window.pageXOffset!==undefined;var isCSS1Compat=((document.compatMode||"")==="CSS1Compat");var pY=function(){return supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop}
function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}};var d=document,w=window.innerWidth,h=window.innerHeight,y=d.body.height;var SectionData=new Array();function Initialize_SectionData(){SectionData=new Array();var section_elements=document.getElementsByTagName("section");for(var i=0;i<section_elements.length;i++){var rect=section_elements[i].getBoundingClientRect(),scrollTop=window.pageYOffset||document.documentElement.scrollTop;SectionData.push({element:section_elements[i],y:rect.top+pY()-(0.4*window.innerHeight)})}
console.log("Section Data: ");console.log(SectionData)}
Initialize_SectionData();var resize_debouncer=debounce(function(){console.log("debounce!");Initialize_SectionData()},250);window.addEventListener("resize",resize_debouncer);var lastSectionIndex;var button_info=document.querySelector("#button_info");var showInfo=!1;function getCurrentSectionIndex(){var y=pY();var prev=0;for(var i=0;i<SectionData.length;i++){if(SectionData[i].y>=y){break}
prev=i}
return prev}
function toggleInfo(){if(!showInfo){var currentSectionIndex=getCurrentSectionIndex();var currentSectionInfo=SectionData[currentSectionIndex].element.querySelector(".section_info");currentSectionInfo.classList.add("visible");lastSectionIndex=currentSectionIndex;button_info.innerHTML="HIDE INFO"}
else{SectionData[lastSectionIndex].element.querySelector(".section_info").classList.remove("visible");lastSectionIndex=null;button_info.innerHTML="SHOW INFO"}
showInfo=!showInfo}
button_info.addEventListener("click",toggleInfo);button_top.addEventListener("click",function(){window.scrollTo(0,0)});var sc_video_1=document.querySelector("#video_sc-go-onboarding");var sc_video_2=document.querySelector("#video_sc-ad");var videos=[];videos.push({element:sc_video_1,autoplayed:!1});videos.push({element:sc_video_2,autoplayed:!1});console.log(videos);for(var i=0;i<videos.length;i++){var v=videos[i].element;v.addEventListener("ended",function(event){v.currentTime=0;if(checkMostlyVisible(v)){v.play()}});v.addEventListener("canplay",function(event){v.nextElementSibling.classList.add("hidden")})}
sc_video_1.addEventListener("canplay",function(event){document.querySelector("#loading_sc-go").classList.add("hidden")});if(sc_video_1.readyState>3){document.querySelector("#loading_sc-go").classList.add("hidden")}
var lastPosition;function checkVisible(elm){var rect=elm.getBoundingClientRect();var viewHeight=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(rect.bottom<0||rect.top+20-viewHeight>=0)}
function checkMostlyVisible(elm){var rect=elm.getBoundingClientRect();var viewHeight=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(rect.bottom<viewHeight/2||rect.top-viewHeight/2>=0)}
function loop(){var y=pY();if(lastPosition==y){scroll(loop);return!1}
else{lastPosition=y;if(showInfo){var currentSectionIndex=getCurrentSectionIndex();if(currentSectionIndex!=lastSectionIndex){SectionData[lastSectionIndex].element.querySelector(".section_info").classList.remove("visible");SectionData[currentSectionIndex].element.querySelector(".section_info").classList.add("visible");lastSectionIndex=currentSectionIndex;console.log("Current Section: "+currentSectionIndex)}}
scroll(loop);for(var i=0;i<2;i++){if(checkMostlyVisible(videos[i].element)){videos[i].element.play()}}}}
loop()